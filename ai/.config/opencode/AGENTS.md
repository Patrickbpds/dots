# General Rules

## Documentation output
- ALWAYS: Any documentation generated by agents should be placed in the `docs/` directory
- ALWAYS: Use the following naming convention for documentation files: `[topic]-[description].md` example: `repo-analysis.md`
- NEVER: Output documentation files directly to the terminal or to any other folder than `docs/`
- IF NEEDED: Use the `@doc-writer` subagent to write documentation files
- Subfolders are allowed, but should be used sparingly
- ONLY OUTPUT TO OTHER PLACES IF EXPLICITLY ASKED BY THE USER

## AI Agent Architecture

### Primary Agents (Modes)
- **plan**: Strategic planning and architecture design → creates docs/plans/[topic]-plan.md
- **implement**: Executes plans with continuous validation → updates plan documents and Dev Logs
- **research**: Deep exploration and knowledge gathering → creates docs/research/[topic]-research.md
- **debug**: Systematic issue investigation → creates docs/debug/[topic]-debug.md
- **test**: Comprehensive testing specialist → creates meaningful unit tests with excellent coverage and best practices
- **blueprint**: Technical templating specialist → creates docs/blueprints/[feature]-blueprint.md for extending existing patterns

### Testing Subagents
- **test-analyzer**: Analyzes code to identify test scenarios, edge cases, and coverage opportunities
- **test-generator**: Creates high-quality test implementations following language-specific best practices
- **test-coverage**: Analyzes coverage metrics and identifies meaningful gaps
- **test-validator**: Ensures test quality and prevents placeholder or low-quality tests
- **test-documenter**: Creates and maintains test documentation, plans, and reports
- **test-researcher**: Researches testing best practices and patterns for specific technologies

### Broader Subagents
- **committer**: Creates well-structured git commits following conventional commits and repository standards
- **documenter**: Creates/updates all documentation, adapts structure to invoking context
- **synthesizer**: Condenses inputs into structured content
- **executor**: Carries out implementation tasks from plans
- **validator**: Runs checks and produces PASS/FAIL notes
- **researcher**: Gathers external knowledge and sources
- **tracer**: Maintains cross-references and task linkages
- **formatter**: Normalizes markdown structure
- **organizer**: Reorganizes files/folders without modifying code, respects user needs or applies best practices

### Quality Assurance Subagents
- **reviewer**: Validates that all user requirements were met and tasks were completed by primary agents
- **guardian**: Detects and resolves stuck processes, infinite loops, and hanging operations in workflows

### Document-First Workflow
- All work happens through documents in `/docs/`
- Documents are the source of truth (updated before user responses)
- File naming: kebab-case without date prefixes (e.g., `feature-x-plan.md`)
- Structure: docs/plans/, docs/research/, docs/debug/, docs/blueprints/ (no deeper nesting)
