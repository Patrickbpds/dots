# General Rules

## Documentation output
- ALWAYS: Any documentation generated by agents should be placed in the `docs/` directory
- ALWAYS: Use the following naming convention for documentation files: `[topic]-[description].md` example: `repo-analysis.md`
- NEVER: Output documentation files directly to the terminal or to any other folder than `docs/`
- IF NEEDED: Use the `@doc-writer` subagent to write documentation files
- Subfolders are allowed, but should be used sparingly
- ONLY OUTPUT TO OTHER PLACES IF EXPLICITLY ASKED BY THE USER

## AI Agent Architecture

### Primary Agents (Modes)
- **plan**: Strategic planning and architecture design → creates docs/plans/[topic]-plan.md
- **implement**: Executes plans with continuous validation → updates plan documents and Dev Logs
- **research**: Deep exploration and knowledge gathering → creates docs/research/[topic]-research.md
- **debug**: Systematic issue investigation → creates docs/debug/[topic]-debug.md

### Broader Subagents
- **documenter**: Creates/updates all documentation, adapts structure to invoking context
- **synthesizer**: Condenses inputs into structured content
- **executor**: Carries out implementation tasks from plans
- **validator**: Runs checks and produces PASS/FAIL notes
- **researcher**: Gathers external knowledge and sources
- **tracer**: Maintains cross-references and task linkages
- **formatter**: Normalizes markdown structure

### Document-First Workflow
- All work happens through documents in `/docs/`
- Documents are the source of truth (updated before user responses)
- File naming: kebab-case without date prefixes (e.g., `feature-x-plan.md`)
- Structure: docs/plans/, docs/research/, docs/debug/ (no deeper nesting)
